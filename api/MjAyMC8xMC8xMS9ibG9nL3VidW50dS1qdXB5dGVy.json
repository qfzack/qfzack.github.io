{"title":"ubuntu环境下配置远程访问jupyter notebook","date":"2020-10-11T05:00:00.000Z","date_formatted":{"ll":"Oct 11, 2020","L":"10/11/2020","MM-DD":"10-11"},"author":"Qingfeng Zhang","link":"2020/10/11/blog/ubuntu-jupyter","categories":["Linux"],"updated":"2025-04-12T14:12:03.391Z","content":"<p>之前一直不知道怎么在服务器上配置远程远程访问的jupyter，于是就用学院的机器学习平台试了一下，在这里记录一下配置过程。</p>\n<p><strong>1. 在平台上创建的一个容器：</strong><br>\n<img src=\"images/ubuntu-jupyter/Image2.jpg\" alt=\"\" loading=\"lazy\"><br>\n第二列的10.1.13.239可能就是我的容器IP</p>\n<p><strong>2. 创建端口映射</strong><br>\n<img src=\"images/ubuntu-jupyter/Image3.jpg\" alt=\"\" loading=\"lazy\"><br>\n创建一个映射到8888端口的校内端口，分配到的是30175，这也是之后在浏览器上使用的端口</p>\n<p><strong>3. 连接服务器：</strong><br>\n<img src=\"images/ubuntu-jupyter/Image4.jpg\" alt=\"\" loading=\"lazy\"><br>\n使用命令<code>jupter notebook --generate-config</code>生成配置文件<br>\n进入ipython：<br>\n<img src=\"images/ubuntu-jupyter/Image5.jpg\" alt=\"\" loading=\"lazy\"><br>\nipython是python的交互式shell；<br>\n在ipython中导入<code>notebook.auth</code>的<code>passwd</code>，通过<code>passwd()</code>命令设置密码<br>\n注意保存输出的password字符；</p>\n<p><strong>4. 修改配置文件：</strong><br>\n<img src=\"images/ubuntu-jupyter/Image6.jpg\" alt=\"\" loading=\"lazy\"><br>\n运行<code>vim ~/.jupyter/jupyter_notebook_config.py</code>编辑配置文件，在文件前面加上：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">c.NotebookApp.ip=&#x27;0.0.0.0&#x27;  </span><br><span class=\"line\">c.NotebookApp.password = u&#x27;sha1:bdb932c5e9f9:b9123eb02cb230ad601e4fb98a85c2bbe70c18fb&#x27;  </span><br><span class=\"line\">c.NotebookApp.open_browser = False  </span><br><span class=\"line\">c.NotebookApp.port =8888  </span><br><span class=\"line\">c.IPKernelApp.pylab = &#x27;inline&#x27;  </span><br></pre></td></tr></table></figure>\n<p>这个可以根据需要修改</p>\n<p><strong>5. 启动jupyter notebook：</strong><br>\n<img src=\"images/ubuntu-jupyter/Image7.jpg\" alt=\"\" loading=\"lazy\"><br>\n我是使用命令<code>jupyter notebook --ip=0.0.0.0 --allow-root</code>启动<br>\n然后在浏览器中访问<code>10.0.4.235:30175</code></p>\n<ul>\n<li>使用<code>jupyter notebook list</code>查看正在运行的server；</li>\n<li>使用<code>jupyter notebook stop 8888</code>停止8888端口的server</li>\n</ul>\n<p><strong>6. jupyterlab的配置使用：</strong><br>\n之后又尝试使用notebook的升级版jupyterlab，结果发现pip安装之后，其配置与notebook一样，也就是不需要配置了，直接<code>jupyter lab</code>启动，然后进浏览器打开就行；<br>\njupyter notebook与jupyter lab使用的是同一个端口，那么如果我想打开notebook怎么办？<br>\n其实两者的区别只在于地址后面的<code>tree</code>和<code>lab</code>;</p>\n<ul>\n<li>jupyter notebook的地址是<code>http://10.0.4.235:30175/tree</code></li>\n<li>jupyter lab的地址是<code>http://10.0.4.235:30175/lab</code></li>\n</ul>\n<p><strong>7. 使jupyter后台运行：</strong><br>\nshell里启动jupyter后，如果ctrl+c终止会使网页端也断掉；<br>\n<code>nohup</code>是不挂断地运行命令，<code>&amp;</code>表示在后台运行，使用<code>nohup jupyter lab &amp;</code>可以保持jupyter一直运行<br>\n<img src=\"images/ubuntu-jupyter/Image8.jpg\" alt=\"\" loading=\"lazy\"><br>\n如果想关闭服务：</p>\n<ul>\n<li><code>ps -ef</code>查看后台进程： <img src=\"images/ubuntu-jupyter/Image9.jpg\" alt=\"\" loading=\"lazy\"></li>\n<li>找到jupyterlab对应的进程号，使用<code>kill -9 12765</code>关掉进程</li>\n</ul>\n<p><strong>8.安装jupyterlab的扩展</strong><br>\n先安装一个生成目录的插件<code>jupyter labextension install @jupyterlab/toc</code>，提示要先安装nodejs和npm：<br>\n<img src=\"images/ubuntu-jupyter/Image10.jpg\" alt=\"\" loading=\"lazy\"><br>\n尝试运行：<code>jupyter serverextension enable --py jupyterlab --user</code><br>\n和<code>conda install -c conda-forge nodejs</code>之后，再次安装，并使用<code>jupyter labextension list</code>查看已安装的插件：<br>\n<img src=\"images/ubuntu-jupyter/Image11.jpg\" alt=\"\" loading=\"lazy\"></p>\n<ul>\n<li>jupyterlab配置：<a href=\"https://www.cnblogs.com/lskreno/p/10844315.html\" target=\"_blank\">https://www.cnblogs.com/lskreno/p/10844315.html</a></li>\n</ul>\n","prev":{"title":"Machine-Learing：GBDT与XGBoost","link":"2020/10/14/blog/gbdt_xgboost"},"next":{"title":"ubuntu下使用github搭建hexo博客","link":"2020/10/11/blog/ubuntu-github-hexo-blog"},"plink":"https://qfzack.github.io/2020/10/11/blog/ubuntu-jupyter/","reading_time":"665 words in 4 min"}