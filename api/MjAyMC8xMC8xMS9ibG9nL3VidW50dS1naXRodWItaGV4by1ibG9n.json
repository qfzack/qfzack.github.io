{"title":"ubuntu下使用github搭建hexo博客","date":"2020-10-10T21:00:00.000Z","date_formatted":{"ll":"Oct 11, 2020","L":"10/11/2020","MM-DD":"10-11"},"author":"Qingfeng Zhang","link":"2020/10/11/blog/ubuntu-github-hexo-blog","categories":["Linux"],"updated":"2025-04-12T14:12:03.417Z","content":"<ul>\n<li>使用github搭建博客应该先安装git和node.js，git已经安装了，现在安装node.js，node.js是运行在服务端的JavaScript（不是很懂）</li>\n</ul>\n<h1 id=\"1.安装node.js：\">1.安装node.js：<a title=\"#1.安装node.js：\" href=\"#1.安装node.js：\"></a></h1>\n<p><strong>1.1 安装nvm</strong></p>\n<ul>\n<li>nvm是一个node版本管理工具，就像Python中的anaconda，先安装nvm，参考<a href=\"https://github.com/nvm-sh/nvm?tab=readme-ov-file#install--update-script\" target=\"_blank\">Install &amp; Update Script</a></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash</span><br></pre></td></tr></table></figure>\n<p><strong>1.2 安装node：</strong></p>\n<ul>\n<li>查看所有可用的node版本：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls-remote  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>指定一个安装版本：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install v11.11.0  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>查看已安装的版本：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls  </span><br></pre></td></tr></table></figure>\n<h1 id=\"2.-安装hexo：\">2. 安装hexo：<a title=\"#2.-安装hexo：\" href=\"#2.-安装hexo：\"></a></h1>\n<ul>\n<li>hexo是一个基于node.js制作的一个博客工具，hexo将markdown编写的文件生成静态html页面，然后上传到服务器；<br>\n使用命令安装hexo：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo  </span><br></pre></td></tr></table></figure>\n<p>(这里的npm是和nodejs一起安装的包管理工具，能解决nodejs代码部署的很多问题)</p>\n<ul>\n<li>初始化一个文件夹：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init my_blog  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>进入文件夹，运行命令：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>生成静态网页文件：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate  </span><br></pre></td></tr></table></figure>\n<p>等价于<code>hexo g</code>；</p>\n<ul>\n<li>启动服务器：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server  </span><br></pre></td></tr></table></figure>\n<p>等价于<code>hexo s</code>，显示进入<code>http://localhost:4000</code>可以查看，但是是在服务器端搭建的，直接在浏览器无法查看；</p>\n<h1 id=\"3.-部署到github：\">3. 部署到github：<a title=\"#3.-部署到github：\" href=\"#3.-部署到github：\"></a></h1>\n<blockquote>\n<p>需要安装git并设置name和email，然后生成公钥与github建立ssh连接，这些步骤在另外一篇文章里写了，并且环境也已经配置好了；</p>\n</blockquote>\n<ul>\n<li>检查ssh是否已经配置好：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -T git@github.com  </span><br></pre></td></tr></table></figure>\n<p>然后在github上建立一个repository，注意名称为your_name.github.io;<br>\n然后打开my_blog文件夹中的_config.yml进行编辑，修改最下面的deploy部分：<br>\n<img src=\"images/ubuntu-github-hexo-blog/Image1.jpg\" alt=\"\" loading=\"lazy\"></p>\n<ul>\n<li>执行命令部署博客</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean  </span><br><span class=\"line\">hexo generate  </span><br><span class=\"line\">hexo deploy  </span><br></pre></td></tr></table></figure>\n<p>然后运行以下命令就可以在浏览器的qfzack.github.io查看</p>\n<p>但是最后一步报错：<code>ERROR Deployer not found: git</code><br>\n是因为没有安装hexo-deployer-git插件，安装命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save  </span><br></pre></td></tr></table></figure>\n<p>然后就可以成功打开网页了</p>\n<h1 id=\"4.-发布文章到博客：\">4. 发布文章到博客：<a title=\"#4.-发布文章到博客：\" href=\"#4.-发布文章到博客：\"></a></h1>\n<ul>\n<li>使用markdown格式编辑好文件，放到<code>/my_blog/source/_posts</code>路径下，然后依次运行（generate和deploy可以用g和d代替）：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean  </span><br><span class=\"line\">hexo generate  </span><br><span class=\"line\">hexo deploy  </span><br></pre></td></tr></table></figure>\n<p>分别是清理缓存文件，生成静态文件，部署到网站，生成新文件也可以使用：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo n filename  </span><br></pre></td></tr></table></figure>\n<h1 id=\"5.安装hexo主题：\">5.安装hexo主题：<a title=\"#5.安装hexo主题：\" href=\"#5.安装hexo主题：\"></a></h1>\n<ul>\n<li>如果觉得原始的界面不好看，可以更换主题，下载的主题是放在<code>/my_blog/themes</code>文件夹下，在hexo的官网会提供很多主题，并且在主题的github界面会提供下载命令，以一个主题为例：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/klugjo/hexo-theme-clean-blog.git themes/clean-blog  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>将clean-blog下载到themes文件夹内，然后修改_config.yml文件：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Extensions</span>  </span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\"># Plugins: http://hexo.io/plugins/</span></span>  </span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\"><span class=\"comment\"># Themes: http://hexo.io/themes/</span></span>  </span><br><span class=\"line\">theme: clean-blog  </span><br></pre></td></tr></table></figure>\n<p>主题的github界面会有更详细的参数设置，注意是修改主题文件夹内的_config.yml文件</p>\n<h1 id=\"6.使用subline-text3编辑文件\">6.使用subline Text3编辑文件<a title=\"#6.使用subline-text3编辑文件\" href=\"#6.使用subline-text3编辑文件\"></a></h1>\n<ul>\n<li>使用subline Text3安装sftp插件，可以直接连上服务器，然后直接编辑服务器的文件，并上传，但是遇到一个问题：保存并上传文件的时候显示没有读写权限；<br>\n对于这个问题，可以修改对应文件夹的权限来解决：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 777 -R my_blog  </span><br></pre></td></tr></table></figure>\n<p>对于无法插入图片的问题，运行命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install https://github.com/CodeFalling/hexo-asset-image --save  </span><br></pre></td></tr></table></figure>\n<p>然后在使用hexo新建文件时会生成同名文件夹，将图片放在文件夹中并引用;<br>\n但是最后还是有问题：对于新建的文件，sublime还是没有写入到权限；后来问了师兄才知道，不能只在容器里面修改文件夹的权限，需要在容器外面修改，这样新建文件的权限都是修改后的。</p>\n<h1 id=\"7.使用vscode远程连接服务器\">7.使用VScode远程连接服务器<a title=\"#7.使用vscode远程连接服务器\" href=\"#7.使用vscode远程连接服务器\"></a></h1>\n<ul>\n<li>刚刚尝试使用vscode来做一些工作，和sublime类似，都支持很多插件，可以远程浏览并编辑服务器文件，之前是用pycharm做这些；可以直接上传和下载文件，也就是可以当作flashfxtp，虽然没有那么方便；并且可以直接使用终端，可以做之前sublime+xshell完成的任务；</li>\n<li>vscode在本地、服务器、容器内安装的插件都是独立的，在连接远程服务器时遇到了一些困惑：<strong>ssh连接的是宿主机，而不是我的dockers</strong></li>\n</ul>\n<p>一开始的设置本地C:\\Users\\zhangqf.ssh的config文件如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 1008server  </span><br><span class=\"line\">  HostName 192.168.195.55  </span><br><span class=\"line\">  User ubuntu  </span><br></pre></td></tr></table></figure>\n<p>这样登录是以普通的ubuntu用户登录，而我需要指定容器的端口进行登录，因此修改如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Host 1008server  </span><br><span class=\"line\">  HostName 192.168.195.55  </span><br><span class=\"line\">  User root  </span><br><span class=\"line\">  Port 9022  </span><br></pre></td></tr></table></figure>\n<p>这样就可以直接连到我自己的容器里面了，注意ubuntu用户和root用户的密码不同；</p>\n<ul>\n<li>还有一个问题就是每次都要输入root用户的密码，感觉有点麻烦，解决方案就是先在本机目录<code>C:\\Users\\zhangqf\\.ssh</code>下运行：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa  </span><br></pre></td></tr></table></figure>\n<p>生成密钥对，包括私钥id_rsa和公钥id_rsa.pub，然后再将公钥的内容复制到服务器的容器文件<code>~/.ssh/authorized_keys</code>中，然后就可以根据本机<code>.ssh/config</code>文件连接服务器且不需要再输入密码；</p>\n","prev":{"title":"ubuntu下git的使用","link":"2020/10/11/blog/ubuntu-git"},"next":{"title":"ubuntu环境下配置远程访问jupyter notebook","link":"2020/10/11/blog/ubuntu-jupyter"},"plink":"https://github.com/qfzack/2020/10/11/blog/ubuntu-github-hexo-blog/","toc":[{"id":"1.安装node.js：","title":"1.安装node.js：","index":"1"},{"id":"2.-安装hexo：","title":"2. 安装hexo：","index":"2"},{"id":"3.-部署到github：","title":"3. 部署到github：","index":"3"},{"id":"4.-发布文章到博客：","title":"4. 发布文章到博客：","index":"4"},{"id":"5.安装hexo主题：","title":"5.安装hexo主题：","index":"5"},{"id":"6.使用subline-text3编辑文件","title":"6.使用subline Text3编辑文件","index":"6"},{"id":"7.使用vscode远程连接服务器","title":"7.使用VScode远程连接服务器","index":"7"}],"copyright":{"author":"Qingfeng Zhang","link":"<a href=\"https://github.com/qfzack/2020/10/11/blog/ubuntu-github-hexo-blog/\" title=\"ubuntu下使用github搭建hexo博客\">https://github.com/qfzack/2020/10/11/blog/ubuntu-github-hexo-blog/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"1368 words in 9 min"}